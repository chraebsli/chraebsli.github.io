<!DOCTYPE html>
<html lang='de'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel="stylesheet" href="style.css">
    <title>Pygame Leaderboard</title>
</head>

<body>
    <header>
        <script>
            const jscript = document.querySelector('header');
            const insert = document.querySelector('section');
            console.log(jscript)

            let requestURL = 'https://chraebsli.github.io/coinchaser/scores.json';
            let request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function () {
                const scores = request.response;
                console.log("1")
                showscores(scores);
            }

            function showscores(jsonObj) {
                const scores = jsonObj['scores'];
                for (let i = 0; i < scores.length; i++) {
                    const div = document.createElement('div');
                    const ptime = document.createElement('p');
                    const pname = document.createElement('p');
                    const ppoints = document.createElement('p');
                    console.log("2")

                    ptime.textContent = 'Time:' + scores[i].time;
                    pname.textContent = 'Name:' + scores[i].name;
                    ppoints.textContent = 'Points:' + scores[i].points;
                    console.log("3")

                    div.appendChild(ptime);
                    div.appendChild(pname);
                    div.appendChild(ppoints);
                    console.log(div)
                    console.log(insert)
                    insert.appendChild(div)
                    console.log("4")
                }
            }

        </script>
    </header>

    <p class="main">Coinchaser</p>
    <p class="cap">by Nicholas and Ziyam</p>
    <p class="title">Leaderboard</p>

    <div class="container">
        <div class="categorys">
            <div class="col">
                <p>Time</p>
            </div>
            <div class="col">
                <p>Name</p>
            </div>
            <div class="col">
                <p>Points</p>
            </div>
        </div>
        <div class="scores" id="scores">

            <div class="col" id="times">
            </div>
            <div class="col" id="names">
            </div>
            <div class="col" id="points">
            </div>
        </div>
    </div>
    <section>

    </section>
</body>

</html>
